{% extends '_layout.jinja2' %}

{% block content %}

  <article>
    <header>
      <h2>New Feature: Footnotes</h2>
      <aside><time datetime="2022-01-08">January 8, 2022</time>, by grewn0uille</aside>
      <p>
        A new feature, <code>footnote</code>, has been added into WeasyPrint ðŸŽ‰.
      </p>
    </header>

    <section>
      <p>
        <em>
          <code>footnote</code> support has been added thanks to the financial
          support of <a href="https://www.codeandco.com/">Code & Co.</a>. It has been
          a real pleasure to develop this feature with them.
        </em>
      </p>
      <p>
        <em>
          You would love to get a new feature, a bug fix, or some support on
          WeasyPrint? Donâ€™t hesitate to
          <a href="{{ url_for('page', _anchor="support") }}">get in touch with us</a>! Or if you
          simply want to see the project grow beautifully, you can donate on
          <a href="https://opencollective.com/courtbouillon">OpenCollective</a> ðŸ˜‰.
        </em>
      </p>
    </section>

    <section>
      <h3>What Is <code>footnote</code> and How to Use It?</h3>
      <p>
      Footnotes allow you to put some notes at the bottom of a page, which lets you
      provide comments, citationsâ€¦
      </p>

      <p>
      To create a footnote element, <code>float: footnote</code> is used.
      For example, a footnote statement that looks like this:
      </p>
          {{ '00018-footnotes.html' | pygmentize }}
      <p>gives the following result:</p>
      <img style="width:70%" alt="Example of footnote" src="{{ url_for('static', filename='images/00018-footnote.png') }}" />

      <p>
      Several CSSâ€¯properties and pseudo-elements let you manage how footnotes
      are displayed.
      </p>

      <h4>The <code>footnote-display</code> Property</h4>
      <p>
      The <code>footnote-display</code> property allows you to indicate if a
      footnote element is displayed as a block element or as an inline element.
      By default, footnotes are displayed as block elements.
      </p>
      <figure>
        <img src="{{ url_for('static', filename='images/00020-footnote_display_block.png') }}" alt="Example of footnotes displayed as block" title="Block footnotes" />
        <figcaption>
        Footnotes as block elements
        </figcaption>
      </figure>
      <figure>
        <img src="{{ url_for('static', filename='images/00020-footnote_display_inline.png') }}" alt="Example of footnotes displayed as inline" title="Inline footnotes" />
        <figcaption>
        Footnotes as inline elements
        </figcaption>
      </figure>

      <h4>The <code>footnote-policy</code> Property</h4>
      <p>
      The <code>footnote-policy</code> property helps you to influence how to
      render difficult pages, like when a footnote falls near the bottom of a
      page and doesnâ€™t fully fit.
      </p>
      <p>
      By default, the user agent chooses how to render footnotes, and
      WeasyPrint decides to put the note on the next page when there is not
      enough place on the current page.
      </p>
      <p>
      You can make the user agent introduce a forced page break at the start of
      the line containing the footnote reference with the <code>line</code> value,
      so both the footnote reference and the footnote content go on the next page.
      </p>
      <p>
      You can also make the user agent introduce a forced page break before the
      paragraph that contains the footnote with the <code>block</code> value.
      </p>

      <h4>The <code>::footnote-call</code> and the <code>::footnote-marker</code> Pseudo-Elements</h4>
      <p>
      The <code>::footnote-call</code> pseudo-element is the element inserted
      in the text to reference the footnote.
      </p>
      <p>
      The <code>::footnote-marker</code> pseudo-element is the element representing
      the footnote marker in the footnote area, itâ€™s the number or the symbol
      identifying each footnote.
      </p>

      <p>
      By default, the content of these two pseudo-elements is the value of the
      footnote counter. As there is a footnote counter, you can style it like
      any other counter.
      </p>

      <figure>
        <img src="{{ url_for('static', filename='images/00020-footnote_counter_styled.png') }}" alt="Example of footnote counter styled" title="Styled footnote counter" />
        <figcaption>
        Footnote counter styled as <code>upper-roman</code>
        </figcaption>
      </figure>
    </section>

    <section>
      <h3>Limitations and Undefined Cases</h3>
      <p>
      There are currently some limitations and undefined cases.
      </p>
      <p>
      The <code>footnote-display</code> property has a <code>compact</code>
      value that lets the user agent decide if a footnote is rendered as a
      block or inline element. This value isnâ€™t supported by WeasyPrint.
      </p>

      <p>
      If you look at the <a href="https://www.w3.org/TR/css-gcpm-3/#footnotes">
      footnotes specification</a>, you can find the
      <code>::footnote-marker::after</code> selector. This syntax containing
      two pseudo-elements doesnâ€™t work (yet) in WeasyPrint, but will be
      supported with
      <a href="https://www.w3.org/TR/selectors-4/">Selectors Level 4</a>.
      </p>

      <p>
      Finally, when a footnote is larger than the page, nothing is defined in the
      specification to handle it. So in WeasyPrint, we decide that the content
      of the footnote simply overflows.
      </p>

      <p>
      Footnotes are available in the latest WeasyPrint release: <a href="">v54</a>.
      We hope that they will be useful for you ðŸ˜„!
      </p>
    </section>
  </article>

{% endblock content %}
